# 完整规则

首先这是一个以数学为背景的桌游。目标是在有限的游戏条件下获得更多的胜利点数。

## 胜利条件
- 当有任意一方在任意时间投降时，由另外一方获得胜利。
- 当游戏进行终止结算时。计算胜利点数。胜利点数的计算详细见‘游戏进行终止结算’。胜利点可以为负数。拥有胜利点数多的一方获胜。
- 当胜利点数一样时，拥有最多伪胜利点数的一方获胜。
- 胜利点数和伪胜利点数都一样时。双方平局。

## 发生游戏终止结算条件
- 当任意一方在回合结束阶段后，对手回合开始之前。剩余卡堆没有卡片时,游戏终止，并开始进行终止结算。
- 当任意一方获得10个或者更多伪胜利点数的瞬间进行，游戏终止，并开始进行终止结算。
- 当任意一方在回合结束阶段开始之前，公共泳道牌位已经被占满时，游戏终止，并开始进行终止结算。

## 游戏流程

### 游戏开始前准备

由双方在比赛开始之前互相检查对手牌组。
- 其中每个卡组至少有40张卡构成，并且不超过60张。
- 其中断言卡的胜利点数总和不大于其牌组数目

之后双方`猜硬币`决定先后手。每人5张`初始手卡`。
- 先攻者第一回合的抽卡阶段少抽一张卡。
开始游戏,双方轮流进行回合。直到游戏达到终止结算条件进行结算。

### 回合内的阶段
每个牌手在进行自己的回合时都会经历以下阶段。
- 开始阶段
- 准备阶段
- 抽卡阶段
- 行动阶段
- 结束阶段

#### 开始阶段
回合开始阶段。部分卡片效果针对这一阶段发动。回合开始阶段不能被跳过。开始阶段结束后执行回合准备阶段。

#### 准备阶段
回合准备阶段。部分卡片效果再这一阶段生效。准备阶段结束后进入到抽卡阶段。

#### 抽卡阶段
- 抽卡阶段。部分卡片效果在这一阶段生效。抽卡阶段结束后进入到行动阶段。
- 除了先攻的第一个回合，每次抽卡阶段的一方可以从剩余牌堆中抽取两张卡。（先攻的第一回合只能抽取一张）
- 当剩余牌堆卡片只剩一张时。从弃置牌堆的最上方摸一张卡。保证有两张卡进入到手牌。

#### 行动阶段
行动阶段是游戏的主要阶段。可以使用游戏中的卡片。他们有以下几种。
- 值卡
- 算子卡
- 断言卡
- 函数卡
- 传奇卡

其中每种卡的使用相对复杂会在后面的规则中介绍。

### 结束阶段
- 结束阶段。部分卡片效果由此阶段生效。
- 结束阶段结束前，需检查当前行动玩家的手卡数目，不能大于7张，如果大于7张的情况，需要丢弃多余的卡到弃牌堆，并扣除丢弃卡个数的伪胜利点数。（如果没有则不扣除）。
- 结束阶段后，换做对手进行他的新回合。

## 游戏场地
游戏场地中由泳道（公共/私有），值区，算子区，断言区(公共/私有)，传奇卡区构成。如下图：
![Case CN](../pic/Case_CN.jpg)
- 上方虚线围住的五个区域在一排的，(值区和算子区交替出现，总共5个)叫做泳道。
- 总共有5条泳道。最中间的浅色的是公共泳道。其余的是私有泳道。公用泳道只有一个。每个玩家有两个私有泳道。
- 黄色的区域是值区。通常用来放置值卡。
- 蓝色的区域是算子区，通常用来放置算子卡。
- 红色和浅红色是断言区。在公共泳道两侧的是公共断言区。他们一左一右共两个。每个玩家只有一个私有断言区。
- 橙色的区域是传奇卡区。传奇卡区最多放置四个传奇卡。

有了上面的概念，才可以更好的理解卡片。和他们对应的操作。

## 卡片及其使用方法

### 颜色和卡片的种类
卡片的类型和功能由它的颜色决定。基础的颜色如下。
- 值卡： 黄色
- 算子卡： 蓝色
- 断言卡： 红色
- 函数卡： 绿色
- 传奇卡： 橙色

这些颜色只是一般卡的基本功能也存在比较特殊的混合颜色表示混合功能：
- 黄色/红色: 既可以视为值卡又可以视为断言卡。
- 蓝色/黄色：函数卡除了‘函数临时结算’外。还可以进行函数卡的‘算子-值’设置。不能使用函数效果（详细见函数卡）
- 蓝色/绿色/黄色：函数卡除了‘函数临时结算’外。还可以进行函数卡的‘算子-值’设置。还可以使用函数效果（详细见函数卡）
- 彩虹色：一般出现在传奇卡中，可以作为效果描述的卡使用。

### 牌面字段
![Card Temp](../pic/Card_temp.jpg)
- 卡片名称
- 卡片的公式。无论卡片名称是什么，游戏终止结算时以公式对应的值为主。
- 卡牌的范畴列表。表示卡片的一种属性。部分效果是针对这一属性的。
- 效果描述。上面有发动的时机和效果。
- 卡片颜色。见‘颜色和卡片的种类’，决定卡片可以进行哪些操作。
- VP,DP: 胜利点数和失败点数。只有具有断言卡功能的卡才有的数值。

> PS: 上方牌面的女性和游戏没有任何关系。上面的卡片设计为临时，只要能体现这些信息即可。

### 卡片介绍

以下来解释卡片的使用方法。

---

####  值卡
- 放置值卡。放置值卡的操作为，展示自己的手卡中的一个值卡，正面朝上放置到值区中，视为设置了值。
- 每个值区最多只能有一个值卡。
- 每次放置值卡时只能“就近”放置。
- “就近”放置表示放置时只能从左到右的方式放置。而且除了从左数第一个值区可以之间放置外，其他的值区放置值卡时必须保证左侧的其他区域都被放满。
- 由于你和对手面的。对手的从左到右和你相反。结果就是公共泳道，你们分别从两个方向放置。
- 移动值卡。移动值卡的操作位，选择一个你放置的值卡。向下或者向上平行移动一个泳道，到其他泳道的值区内。
- 只能在自己的私有泳道和公共泳道内选择自己设置的卡，移动到自己相邻的私有泳道内。也就是说不能从私有泳道移动到公共泳道。
- 当相邻泳道存在卡时，一般情况下不能移动。
- 移动时不用遵循“就近”原则。
- 每个回合内放置值卡和移动值卡只能进行一个。
- 设置值后不能和本回合内的设置算子都在公共泳道。

--- 

#### 算子卡
- 放置算子卡。放置算子卡的操作为，展示自己的手卡中的一个算子卡，正面朝上放置到值区中，视为设置了算子。
- 每个算子区最多只能有一个算子卡。
- 每次放置算子时只能“就近”放置。
- 每个回合只能进行一次算子放置。
- 算子设置后不能和本回合的设置值都在公共泳道。
- 算子牌面遵循算子语言：`?`表示可以互换顺序，可以在解释时对自己有利。`L/R`表示左式和右式，不能调换顺序。具体使用见‘计算泳道的值’。

--- 

#### 断言卡

- 设置断言卡。断言卡正面朝上放置到私有或者公共断言区内。
- 每个回合最多在公共断言区和私有断言区放置各一张断言卡。
- 两个公共断言区都可以放置。但是每回合两个公共断言区最多放置一个断言卡。
- 断言卡放置后可以根据断言卡的描述发动效果。

---

#### 函数卡

函数卡是游戏中最复杂也是最灵活的卡。它主要有三种可能得使用方法：

- 函数临时结算
- 使用函数效果
- 设置'算子-值'操作

函数临时结算：
- 函数临时结算。使用函数的这个功能时，可以寻找到场上的任意值或者算子只要其中的值作为函数的入参，可以得到出参匹配就立马移除这些值，然后获得函数卡上标记的伪胜利点数。（一般可以由一个20面骰子计数）。
- 使用函数的临时结算时一个很好去除场上卡的方法。
- 值卡可以是视为值卡的任意卡。自己和对手场上的都可以。
- 使用后以函数卡。入参的值卡，出参的值卡的顺序弃置到弃牌堆中。（对手的卡进入对手的棋牌堆）
- 棋牌堆的顺序是固定的，发生了从弃牌堆检索卡的效果不改变弃牌的顺序。

使用函数效果
- 使用函数效果必须函数卡中标记了绿色。
- 在出牌阶段之间使用。使用描述中的效果。如果没法生效也视为使用了函数卡并弃置在弃牌堆的顶部。
- 传统！当你要使用函数卡和数学无关时，需要对对手说“抱歉了兄弟。我要使用数学魔法卡中的纯魔法了！”

设置'算子-值'操作
- 放置算子/值操作被视为同时放置了值卡和算子卡在泳道内。（也就是说根据之前的限制不能在公共泳道这样使用）当使用这个功能时，要将函数卡由算子位起始横着放置在算子和值位之间。它表示使用前面的值作为函数的入参，计算结构作为后一项的值。比如3 使用函数 y=3x 函数放置算子值。在断言计算时表示。3*3= 9 下一个算子的左项就是9开始。

---

#### 传奇卡
- 发动传奇卡。根据卡的效果，将卡片放置到传奇卡区后发动效果。
- 每个传奇卡区只有四个卡位。当四个位置占满时，如果要发动新的传奇卡，需要将一个传奇卡弃置到弃牌堆最上方后，才能发动。
- 彩虹色的传奇卡不收传奇卡位置的限制。